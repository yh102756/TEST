const songs = {
    "검정치마": [
        {
            "title": "기다린만큼, 더",
            "link": "https://vod.sooplive.co.kr/player/145776479?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26343997_1_l"
        }
    ],
    "권진아": [
        {
            "title": "오늘 뭐 했는지 말해봐",
            "link": "https://vod.sooplive.co.kr/player/139045515?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=clip_20241013_193_39887859-c1e5-4876-ac53-236cffc975a2_24463193_l&column=2&t=1729796963"
        },
{
            "title": "끝",
            "link": "https://vod.sooplive.co.kr/player/140227589?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241025_24786043_1_l"
        }
    ],
"김나영": [
        {
            "title": "어땟을까",
            "link": "https://vod.sooplive.co.kr/player/139447553?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241017/713/5f61b035-199f-41b6-987c-420ba05bae11/24574713_l.jpg"
        }
    ],
    "디에이드": [
        {
            "title": "너무 보고싶어",
            "link": "https://vod.sooplive.co.kr/player/146456297?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241228_26547315_1_l"
        },
        {
            "title": "묘해, 너와",
            "link": "https://vod.sooplive.co.kr/player/145915067?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385263_1_l"
        }
    ],
"데이라이트": [
        {
            "title": "머리를 자르고",
            "link": "https://vod.sooplive.co.kr/player/144210651?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241205/381/61224231-52eb-440c-be47-2ecc4d8b75b3/25898381_l.jpg"
        }
    ],
"너드커넥션": [
        {
            "title": "그대만 있다면",
            "link": "https://vod.sooplive.co.kr/player/140431193?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241027_24845135_1_l"
        }
    ],
"백지영": [
        {
            "title": "거짓말이라도 해서 널 보고싶어",
            "link": "https://vod.sooplive.co.kr/player/141071793?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241102_25024645_1_l"
        }
    ],
    "린": [
        {
            "title": "사랑했잖아",
            "link": "https://vod.sooplive.co.kr/player/145915311?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385341_1_l"
        }
    ],
    "민서": [
        {
            "title": "사월이 지나면 우리 헤어져요",
            "link": "https://vod.sooplive.co.kr/player/145916541?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385699_1_l"
        }
    ],
    "벤": [
        {
            "title": "오늘은 가지마",
            "link": "https://vod.sooplive.co.kr/player/139727565?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241019/059/868e4a61-4e9f-4ada-a56d-1d6dd5e994ae/24649059_l.jpg"
        }
    ],
    "선우정아": [
        {
            "title": "도망가자",
            "link": "https://vod.sooplive.co.kr/player/145916081?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385551_1_l"
        }
    ],
    "손디아": [
        {
            "title": "어른",
            "link": "https://vod.sooplive.co.kr/player/145776087?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26343891_1_l"
        }
    ],
    "송하예": [
        {
            "title": "니 소식",
            "link": "https://vod.sooplive.co.kr/player/140804707?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241031_24948995_1_l"
        },
        {
            "title": "새 사랑",
            "link": "https://vod.sooplive.co.kr/player/139826463?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241020/265/ba39e421-fe30-47ea-9eb9-3699b33b4ea1/24676265_l.jpg"
        }
    ],
    "스탠딩에그": [
        {
            "title": "Little Star",
            "link": "https://vod.sooplive.co.kr/player/146456575?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241228_26547397_1_l"
        }
    ],
    "아이유": [
        {
            "title": "이런 엔딩",
            "link": "https://vod.sooplive.co.kr/player/145777015?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26344135_1_l"
        },
        {
            "title": "이 지금",
            "link": "https://vod.sooplive.co.kr/player/145776835?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26344079_2_l"
        }
    ],
    "이소정": [
        {
            "title": "함께 했는데 이별은 나 혼자 인거야",
            "link": "https://vod.sooplive.co.kr/player/146456409?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241228_26547347_1_l"
        }
    ],
    "이예준": [
        {
            "title": "넌 나의 20대 였어",
            "link": "https://vod.sooplive.co.kr/player/145777577?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26344305_1_l"
        },
        {
            "title": "널 미워 하기로 했어",
            "link": "https://vod.sooplive.co.kr/player/141071399?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241102_25024533_1_l"
        },
        {
            "title": "그날에 나는 맘이 편했을까",
            "link": "https://vod.sooplive.co.kr/player/140431267?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241027_24845157_1_l"
        },
        {
            "title": "미친 소리",
            "link": "https://vod.sooplive.co.kr/player/139736371?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241020/659/8e0081cc-d33e-457f-8c53-ab897aff62f8/24651659_l.jpg"
        }
    ],
    "에일리": [
        {
            "title": "첫눈처럼 너에게 가겠다",
            "link": "https://vod.sooplive.co.kr/player/145915531?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385409_1_l"
        }
    ],
    "장윤정": [
        {
            "title": "어머나",
            "link": "https://vod.sooplive.co.kr/player/145915835?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241222_26385489_1_l"
        }
    ],
    "하리": [
        {
            "title": "귀요미",
            "link": "https://vod.sooplive.co.kr/player/140027837?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=clip_20241023_413_1dada4d1-55c8-44e2-844c-4b3ceff0e67d_24731413_l&column=2&t=1729797310"
        }
    ],
    "헤일": [
        {
            "title": "어떨 것 같아",
            "link": "https://vod.sooplive.co.kr/player/145775861?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26343839_1_l"
        }
    ],
    "다비치": [
        {
            "title": "안녕이라고 말하지마",
            "link": "https://vod.sooplive.co.kr/player/145775347?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26343725_1_l"
        },
{
            "title": "미워도 사랑하니까",
            "link": "https://vod.sooplive.co.kr/player/140615671?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241029_24897933_1_l"
        },
{
            "title": "남자도우나요",
            "link": "https://vod.sooplive.co.kr/player/139059793?autoPlay=true",
            "image": "https://iflv14.sooplive.co.kr/clip/20241013/041/afd303e2-27cc-4fe4-9f0b-15b51fa144b3/24467041_l.jpg"
        }
    ],
    "박화요비": [
        {
            "title": "그런일은",
            "link": "https://vod.sooplive.co.kr/player/145775589?autoPlay=true",
            "image": "https://videoimg.sooplive.co.kr/php/SnapshotLoad.php?rowKey=20241221_26343775_1_l"
        }
    ]
};

// 노래 개수를 업데이트하는 함수
function updateSongCount() {
    const songList = document.getElementById('songList');
    const count = songList.children.length; // songList의 자식 요소 개수
    document.getElementById('count').innerText = count; // 개수 업데이트
}

// 노래를 리스트에 추가하는 함수
function addSongToList(artist, song) {
    const songList = document.getElementById('songList');
    const songButton = document.createElement('button'); // 노래 버튼 생성
    songButton.className = 'songButton'; // 버튼 클래스 설정

    const songImage = document.createElement('img'); // 이미지 요소 생성
    songImage.src = song.image; // 이미지 추가
    songButton.appendChild(songImage); // 버튼에 이미지 추가

    const songText = document.createElement('span'); // 텍스트 요소 생성
    songText.textContent = `${artist} - ${song.title}`; // "가수 - 제목" 형식으로 추가
    songButton.appendChild(songText); // 버튼에 제목 추가

    // 버튼 클릭 시 노래 재생
    songButton.addEventListener('click', function() {
        playSong(song.title, artist);
    });
    songList.appendChild(songButton); // songList에 추가
    updateSongCount(); // 개수 업데이트
}

// 입력 필드를 비우고 전체 노래 리스트를 다시 표시하는 함수
function cleartext() {
    document.getElementById('songInput').value = ''; // 입력 필드를 비웁니다.
    displaySongList(); // 전체 노래 리스트를 다시 표시합니다.
}

// 버튼에 마우스 오버 시 색상을 변경하는 함수
function changecolor(button) {
    button.style.backgroundColor = 'rgb(200, 50, 80)'; // 마우스 오버 시 색상 변경.
}

// 버튼에서 마우스 아웃 시 원래 색상으로 복원하는 함수
function returncolor(button) {
    button.style.backgroundColor = 'rgb(250, 50, 100)'; // 마우스 아웃 시 원래 색상으로 복원
}

// 노래 리스트를 필터링하여 표시하는 함수
function displaySongList(filter = '') {
    const songListContainer = document.getElementById('songList');
    songListContainer.innerHTML = ''; // 이전 리스트 제거

    // 아티스트를 정렬
    const sortedArtists = Object.keys(songs).sort();

    sortedArtists.forEach(artist => {
        const songArray = songs[artist];
        
        // 노래를 제목 또는 아티스트 이름으로 필터링
        const sortedSongs = songArray.filter(song => 
            song.title.includes(filter) || artist.includes(filter) // 제목 또는 아티스트 이름으로 필터링
        ).sort((a, b) => a.title.localeCompare(b.title)); // 제목으로 정렬

        if (sortedSongs.length > 0) { // 필터링된 노래가 있을 경우에만 버튼 생성
            sortedSongs.forEach(song => {
                addSongToList(artist, song); // 아티스트와 노래 정보를 전달
            });
        }
    });
}

// 노래를 재생하는 함수
function playSong(songTitle, artist) {
    const videoContainer = document.getElementById('videoContainer');
    videoContainer.innerHTML = ''; // 이전 동영상 제거



    const song = songs[artist].find(song => song.title === songTitle); // 선택한 노래 찾기
    if (song) {
        const videoLink = song.link; // 노래 링크 가져오기
// 자동 재생을 위한 파라미터 추가
const autoplayLink = videoLink.includes('?') ? `${videoLink}&autoplay=1` : `${videoLink}?autoplay=1`;
        const iframe = document.createElement('iframe'); // iframe 요소 생성
        iframe.width = "560"; // iframe 너비 설정
        iframe.height = "315"; // iframe 높이 설정
        iframe.src = videoLink; // iframe 소스 설정
        iframe.frameBorder = "0"; // 테두리 제거
        iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"; // iframe 허용 설정
        iframe.allowFullscreen = true; // 전체 화면 허용

        videoContainer.appendChild(iframe); // videoContainer에 iframe 추가
    } else {
        videoContainer.innerHTML = '<p>해당 노래를 찾을 수 없습니다.</p>'; // 노래를 찾을 수 없는 경우 메시지 표시
    }
}

// 입력 필드에 이벤트 리스너 추가
document.getElementById('songInput').addEventListener('input', function() {
    const songTitle = this.value.trim(); // 입력값 가져오기
    displaySongList(songTitle); // 입력값에 따라 노래 리스트 필터링
});

// 페이지 로드 시 노래 리스트 표시
displaySongList();

